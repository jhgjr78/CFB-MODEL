
name: CFB Model â€” Baseline (mobile)

on:
  workflow_dispatch:

jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install deps
        run: |
          pip install pandas

      - name: Generate sample predictions (stub)
        run: |
          python - << 'PY'
          import pandas as pd
          df = pd.DataFrame([
            {"home":"Oklahoma","away":"Auburn","favored":"Oklahoma","adj_spread":8.5,"total_pts":47,"home_pts":28,"away_pts":19},
            {"home":"Utah","away":"Texas Tech","favored":"Utah","adj_spread":4.5,"total_pts":57,"home_pts":31,"away_pts":26},
            {"home":"Notre Dame","away":"Purdue","favored":"Notre Dame","adj_spread":25.0,"total_pts":52,"home_pts":39,"away_pts":13},
          ])
          df.to_csv("week_preds.csv", index=False)
          df.to_json("docs/week_preds.json", orient="records")
          PY

      - name: Commit JSON to docs (for Pages)
        run: |
          git config user.name  "github-actions[bot]"
          git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add docs/week_preds.json
          git commit -m "Publish week_preds.json" || echo "No changes"
          git push

      - name: Upload CSV artifact
        uses: actions/upload-artifact@v4
        with:
          name: week_preds
          path: week_preds.csv